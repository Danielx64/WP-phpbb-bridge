<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<?xml-stylesheet type="text/xsl" href="modx.prosilver.en.xsl"?>
<!--NOTICE: Please open this file in your web browser. If presented with a security warning, you may safely tell it to allow the blocked content.-->
<!--For security purposes, please check: http://www.phpbb.com/mods/ for the latest version of this MOD.\nAlthough MODs are checked before being allowed in the MODs Database there is no guarantee that there are no security problems within the MOD.\nNo support will be given for MODs not found within the MODs Database which can be found at http://www.phpbb.com/mods/-->
<mod xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="https://www.phpbb.com/mods/xml/modx-1.2.6.xsd">
	<header>
		<meta name="generator" content="MODX file generated with PP MODX Creator 1.2.6 by tumba25 (offline version)"/>
		<license><![CDATA[http://opensource.org/licenses/gpl-license.php GNU General Public License v2]]></license>
		<title lang="en"><![CDATA[[BRIDGE] phpBB to WordPress]]></title>
		<description lang="en"><![CDATA[WordPress - phpBB Integration Mod
		This Birdge makes possible to integrate your phpBB into your Wordpress Blog, sharing the Board style and users
		Users Can login at the Blog using the phpBB account, 
			If the phpBB users do not exist in WP it will be automatically created as a "Subscriber"]]></description>
		<author-notes lang="en"><![CDATA[Please keep in mind that this version is still in development, so not everything may be in place or working.
* Works on phpBB version 3.0.12 and WordPress version 3.7.1
* It is not recommended that you install this version on a live forum.
* Before adding this MOD to your forum, you should back up all files related to this MOD.
* This BRIDGE modify the database.]]></author-notes>
		<github><![CDATA[https://github.com/danielx64/WP-phpbb-bridge/]]></github>
		<author-group>
			<author>
				<realname><![CDATA[Gabriel]]></realname>
				<username><![CDATA[leviatan21]]></username>
				<homepage><![CDATA[http://www.mssti.com/phpbb3/]]></homepage>
				<email><![CDATA[info@mssti.com]]></email>
				<contributions-group>
					<contributions status="past" from="2011-06-01" to="Unknown" position="Developer"/>
				</contributions-group>
			</author>
			<author>
				<realname><![CDATA[Daniel]]></realname>
				<username><![CDATA[Danielx64]]></username>
				<contributions-group>
					<contributions status="current" position="Developer"/>
				</contributions-group>
			</author>
		</author-group>
		<mod-version>0.8.0</mod-version>
		<installation>
			<level>easy</level>
			<time>300</time>
			<target-version>3.0.12</target-version>
		</installation>
		<link-group>
			<link type="template" href="contrib/subsilver2.xml" lang="en">Edits for subsilver2</link>
		</link-group>
	</header>
	<action-group>
		<copy>
			<file from="phpbb3/language/en/mods/*.*" to="language/en/mods/*.*"/>
			<file from="phpbb3/styles/prosilver/*.*" to="styles/prosilver/*.*"/>
			<file from="phpbb3/includes/auth/*.*" to="includes/auth/*.*"/>
		</copy>
		<open src="includes/functions_content.php">
			<edit>
				<find><![CDATA[/**
* make_clickable function
*
* Replace magic urls of form http://xxx.xxx., www.xxx. and xxx@xxx.xxx.
* Cuts down displayed size of link if over 50 chars, turns absolute links
* into relative versions when the server/script path matches the link
*/
function make_clickable($text, $server_url = false, $class = 'postlink')]]></find>
				<action type="before-add"><![CDATA[// BRIDGE phpBB & WordPress - Start
$wpbbmode = request_var('mode','');
if (!function_exists('make_clickable') && $wpbbmode !='login' && $wpbbmode !='logout' && !defined('IN_ADMIN'))
{
// BRIDGE phpBB & WordPress - End
]]></action>
			</edit>
			<edit>
				<find><![CDATA[	return preg_replace($magic_url_match, $magic_url_replace, $text);
}]]></find>
				<action type="after-add"><![CDATA[// BRIDGE phpBB & WordPress - Start
}
// BRIDGE phpBB & WordPress - End
]]></action>
			</edit>
		</open>
		<open src="includes/functions_user.php">
			<edit>
				<find><![CDATA[function validate_username($username, $allowed_username = false)]]></find>
				<action type="before-add"><![CDATA[$wpbbmode = request_var('mode','');
if (!function_exists('validate_username') && $wpbbmode !='login' && $wpbbmode !='logout' && !defined('IN_ADMIN'))
{]]></action>
			</edit>
			<edit>
				<find><![CDATA[			return 'USERNAME_DISALLOWED';
		}
	}

	return false;
}]]></find>
				<action type="after-add"><![CDATA[}]]></action>
			</edit>
		</open>
		<open src="language/en/acp/board.php">
			<edit>
				<find><![CDATA[	'LDAP_USER_FILTER_EXPLAIN'		=> 'Optionally you can further limit the searched objects with additional filters. For example <samp>objectClass=posixGroup</samp> would result in the use of <samp>(&amp;(uid=$username)(objectClass=posixGroup))</samp>',]]></find>
				<action type="after-add"><![CDATA[	'WPHPBB_INFO'				=> 'WordPress Path',
	'WPHPBB_INFO_EXPLAIN'		=> 'This is the path to your WordPress installation. Put in the full path to your wordpress root folder.',
]]></action>
			</edit>
		</open>
		<open src="styles/prosilver/template/overall_footer.html">
			<edit>
				<find><![CDATA[	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>]]></find>
				<action type="after-add"><![CDATA[<!-- BRIDGE phpBB & WordPress - Start //-->
	<!-- IF not PHPBB_IN_BLOG -->
<!-- BRIDGE phpBB & WordPress - End //-->
]]></action>
				<comment lang="en"><![CDATA[You must do this change to ALL styles you have installed, based off Prosilver. I use "Prosilver" as an example.]]></comment>
			</edit>
			<edit>
				<find><![CDATA[		<span class="corners-bottom"><span></span></span></div>
	</div>]]></find>
				<action type="before-add"><![CDATA[<!-- BRIDGE phpBB & WordPress - Start //-->
	<!-- ELSE -->
			<!-- INCLUDE wordpress/overall_footer.html -->
	<!-- ENDIF -->
<!-- BRIDGE phpBB & WordPress - End //-->
]]></action>
			</edit>
		</open>
		<open src="styles/prosilver/template/overall_header.html">
			<edit>
				<find><![CDATA[</head>]]></find>
				<action type="before-add"><![CDATA[<!-- BRIDGE phpBB & WordPress - Start //-->
<!-- IF PHPBB_IN_BLOG -->{BLOG_HEADER}<!-- ENDIF -->
<!-- BRIDGE phpBB & WordPress - End //-->
]]></action>
				<comment lang="en"><![CDATA[You must do this change to ALL styles you have installed, based off Prosilver. I use "Prosilver" as an example.]]></comment>
			</edit>
			<edit>
				<find><![CDATA[		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>]]></find>
				<action type="after-add"><![CDATA[<!-- BRIDGE phpBB & WordPress - Start //-->
		<!-- IF not PHPBB_IN_BLOG -->
<!-- BRIDGE phpBB & WordPress - End //-->
]]></action>
			</edit>
			<edit>
				<find><![CDATA[			<span class="corners-bottom"><span></span></span></div>
		</div>]]></find>
				<action type="before-add"><![CDATA[<!-- BRIDGE phpBB & WordPress - Start //-->
		<!-- ELSE -->
			<!-- INCLUDE wordpress/overall_header.html -->
		<!-- ENDIF -->
<!-- BRIDGE phpBB & WordPress - End //-->
]]></action>
			</edit>
		</open>
		<open src="styles/prosilver/theme/stylesheet.css">
			<edit>
				<find><![CDATA[@import url("colours.css");]]></find>
				<action type="before-add"><![CDATA[/* BRIDGE phpBB & WordPress - Start */
@import url("wp_phpbb_bridge.css");
/* BRIDGE phpBB & WordPress - End */
]]></action>
				<comment lang="en"><![CDATA[You must do this change to ALL themes you have installed, based off Prosilver. I use "Prosilver" as an example.]]></comment>
			</edit>
		</open>
	</action-group>
</mod>